<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Many Links 0705 | 编程之海</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="首先推荐来自今天的 湾区日报从最初坚持每天5篇分享至今已经1205期了，点赞作者.  1)最好的商业模式, 微软、苹果、Netflix：花钱的用户是用产品的人；谷歌与FB：花钱的是广告商，用产品的人免费；Amazon、腾讯、阿里：小比例的超级用户花大钱，间接让整个生态变得更好。哪种商业模式好？  2)Firefox + Pocket：打造更好的文章推荐引擎。恐怕很多人不知道Pocket已经被">
<meta property="og:type" content="article">
<meta property="og:title" content="Many Links 0705">
<meta property="og:url" content="http://thomaslau.github.io/2018/07/05/2018-07-05-many_links_0705/index.html">
<meta property="og:site_name" content="编程之海">
<meta property="og:description" content="首先推荐来自今天的 湾区日报从最初坚持每天5篇分享至今已经1205期了，点赞作者.  1)最好的商业模式, 微软、苹果、Netflix：花钱的用户是用产品的人；谷歌与FB：花钱的是广告商，用产品的人免费；Amazon、腾讯、阿里：小比例的超级用户花大钱，间接让整个生态变得更好。哪种商业模式好？  2)Firefox + Pocket：打造更好的文章推荐引擎。恐怕很多人不知道Pocket已经被">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2018-07-04T17:09:07.000Z">
<meta property="article:modified_time" content="2018-07-04T17:40:04.000Z">
<meta property="article:author" content="Thomas Lau">
<meta property="article:tag" content="Tech">
<meta property="article:tag" content="weeklyreading">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="编程之海" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">编程之海</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://thomaslau.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-2018-07-05-many_links_0705" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/07/05/2018-07-05-many_links_0705/" class="article-date">
  <time class="dt-published" datetime="2018-07-04T17:09:07.000Z" itemprop="datePublished">2018-07-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Many Links 0705
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ol>
<li></li>
</ol>
<p>首先推荐来自今天的 <a target="_blank" rel="noopener" href="https://wanqu.co/issues/1205?s=/issues">湾区日报</a><br>从最初坚持每天5篇分享至今已经1205期了，点赞作者.<br>  1)<a target="_blank" rel="noopener" href="https://wanqu.co/a/6700/2018-07-04-who-has-the-best-business-model-and-its-not-google-or-facebook.html?s=/issues/1205">最好的商业模式</a>, 微软、苹果、Netflix：花钱的用户是用产品的人；谷歌与FB：花钱的是广告商，用产品的人免费；Amazon、腾讯、阿里：小比例的超级用户花大钱，间接让整个生态变得更好。哪种商业模式好？<br>  2)Firefox + Pocket：打造更好的文章推荐引擎。恐怕很多人不知道Pocket已经被Mozilla收购了。如果你有使用Firefox，打开一个空白新窗口就会看到Pocket推荐的文章，这是根据你使用Firefox的本地浏览记录推荐的。<br>2.<br>Microsoft: The Early Days: <a target="_blank" rel="noopener" href="http://www.memecentral.com/mylife.htm">http://www.memecentral.com/mylife.htm</a><br>这篇也是湾日的推荐。<br>1981年，作者和其老板Charles Simonyi从计算机人机交互界面发展先驱的施乐走出，经同事即3Com创始人的建议，一起成为微软第77位员工，当时微软刚要开始做应用程序，开始山寨Mac上的电子表格，后来开始做“长得像电子表格的字处理系统”，也就是Word。<br>Word，成为了之后数年的Revenue Bomb， 难怪当年求伯君把自己关在张旋龙（金山创始人，张小龙的哥哥，不是八卦里的微信张小龙）为他在深圳包的一个房间里，日夜兼程写出了字处理系统WPS， 不过当初目标据说是为了超越当时尚火WordStar，WordStar兼容DOS，不过90年后被MS Word超越。<br>求伯君后来吐露，虽然WPS每年收入数千万（1993年前后），但是自己只是个给老板打工的。</p>
<span id="more"></span>
<ol start="3">
<li></li>
</ol>
<p>接 2.<br>文中提到的Charles Simonyi，中文译作 查尔斯·西蒙尼，微软 Word&#x2F;Excel 开发的Leader，安迪·格鲁夫的老乡，曾经微软首席架构师，高智囊团的核心，所见即所得（What you see is What you get）的发明人。<br>不仅上述实际产出，图形用户界面等，查尔斯·西蒙尼还给微软带去了:<br>1）开发应用软件的经验，当时MS不具备的系统层之上的软件应用经验。<br>2）关于程序员生产力的理论，被Gates称为“软件工厂”理论，也是数年后逃离微软的人吐槽的金字塔层级理论。<br>我曾在学校图书馆角落里看过一本介绍VB之父Alan Cooper的书，里面提到了西蒙尼非比寻常的兴趣:<br>事实上，<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%A4%AA%E7%A9%BA%E6%B8%B8%E5%AE%A2">历史上前6位太空游客</a>，两位就是曾从事程序员的职业，其他四位或是电子计算机相关专业或是创建计算机相关的公司&#x2F;投资。最让国内程序员熟悉的可能就是一位生于南非的IT界的企业家，马克·沙特尔沃思，Canonical公司创立者，Canonical就是组织创造了Ubuntu的公司，所以到了第二年10月份，知道Ubuntu组织免费提供 Ubuntu系统光盘，那个使用google还可以畅行无阻的时代，我就申请了一个32位的系统盘，珍藏着。<br>4.<br>the hidden costs of touchscreens<br><a target="_blank" rel="noopener" href="https://medium.com/@caseorganic/why-do-we-keep-building-cars-with-touchscreens-alt-the-hidden-lives-of-touchscreens-55faf92799bf">https://medium.com/@caseorganic/why-do-we-keep-building-cars-with-touchscreens-alt-the-hidden-lives-of-touchscreens-55faf92799bf</a><br>触摸屏真的方便了人们的操作了吗？不是所有场景都提高效率的，有的收银台的POS机变成平板电脑，收银员效率下降不少，得眼睛看屏幕才能操作。<br>我似乎理解了为什么这么多年过去了，国内许多大商场依旧是没有触摸屏的收银台，但更可能的原因是IBM的小型机及其系统确实太昂贵了。<br>其实，我确实更喜欢现在国内一些新型零售的触摸自助结账系统，不用排队，更免去了被花式插队带来的愤怒。<br>但这么做，似乎也淘汰了一批收银员，而这些人中，许多可能是出来打点工，给家庭减少财务负担的，还未到退休年纪或刚到大城市尚未着落的女性。<br>5.<br>The Story Behind How Pocket Hit 20M Users with 20 People<br><a target="_blank" rel="noopener" href="http://firstround.com/review/the-story-behind-how-pocket-hit-20m-users-with-20-people">http://firstround.com/review/the-story-behind-how-pocket-hit-20m-users-with-20-people</a><br>创立八年，而前四年都是一个人在单打独斗<br>记得13年就在使用pocket，不过那时确实困惑了“read it later”和packet是哪个好久？完全没想到居然是一个人在运营<br>6.<br>大概上个月爆出的 新版JDK +&#x3D; 操作符的副作用<br>很详细的：JDK 9&#x2F;10&#x2F;11: Side Effects from +&#x3D; on Java String<br><a target="_blank" rel="noopener" href="http://marxsoftware.blogspot.com/2018/06/JDK-8204322.html">http://marxsoftware.blogspot.com/2018/06/JDK-8204322.html</a><br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/50683786/why-does-arrayidx-a-increase-idx-once-in-java-8-but-twice-in-java-9-and-1">https://stackoverflow.com/questions/50683786/why-does-arrayidx-a-increase-idx-once-in-java-8-but-twice-in-java-9-and-1</a><br><a target="_blank" rel="noopener" href="https://bugs.openjdk.java.net/browse/JDK-8204322">https://bugs.openjdk.java.net/browse/JDK-8204322</a><br><a target="_blank" rel="noopener" href="http://mail.openjdk.java.net/pipermail/compiler-dev/2018-June/011997.html">http://mail.openjdk.java.net/pipermail/compiler-dev/2018-June/011997.html</a><br>7.<br>是否遇到过 “javax.net.ssl.SSLException: Received fatal alert: protocol_version”的异常？<br>实际上这是JDK1.7默认支持的TLS版本导致的异常，JDK1.7+ 默认支持的TLS版本不是TLSv1.2<br><a target="_blank" rel="noopener" href="https://scnuwang.github.io/2017/10/11/JDK1.7%E9%BB%98%E8%AE%A4%E6%94%AF%E6%8C%81%E7%9A%84TLS%E7%89%88%E6%9C%AC%E5%AF%BC%E8%87%B4%E5%BC%82%E5%B8%B8/">https://scnuwang.github.io/2017/10/11/JDK1.7%E9%BB%98%E8%AE%A4%E6%94%AF%E6%8C%81%E7%9A%84TLS%E7%89%88%E6%9C%AC%E5%AF%BC%E8%87%B4%E5%BC%82%E5%B8%B8/</a><br>查看JDK1.7+ 支持的协议<br><a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#SSLContext">http://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#SSLContext</a><br>解决方案：在发送请求前设置系统属性：System.setProperty(“https.protocols”, “TLSv1.2”);<br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/9749339/does-tomcat-support-tls-v1-2">https://stackoverflow.com/questions/9749339/does-tomcat-support-tls-v1-2</a><br>8.<br><a target="_blank" rel="noopener" href="http://jaminzhang.github.io/os/Linux-IO-Monitoring-and-Deep-Analysis/">http://jaminzhang.github.io/os/Linux-IO-Monitoring-and-Deep-Analysis/</a><br>Linux IO 监控与深入分析<br>作者总结的很详细，才知道原来原生的还有这么多命令可用，这些命令还可以这么用。</p>
<blockquote><p><i><strong>1) 系统级 IO 监控</strong></i>:  iostat -xdm 1<br>如果 %iowait 的值过高，表示磁盘存在 I&#x2F;O 瓶颈。<br>如果 %util 接近 100%，说明产生的 I&#x2F;O 请求太多，I&#x2F;O 系统已经满负荷，该磁盘可能存在瓶颈。<br>如果 svctm 比较接近 await，说明 I&#x2F;O 几乎没有等待时间；<br>如果 await 远大于 svctm，说明 I&#x2F;O 队列太长，I&#x2F;O 响应太慢，则需要进行必要优化。<br>如果 avgqu-sz 比较大，也表示有大量 IO 在等待。<br><i><strong>2) 进程级 IO 监控</strong></i>    iotop 和 pidstat<br>pidstat -d 1<br>pidstat -u -r -d -t 1<br>可以回答系统级 IO 监控不能回答的 2 个问题<br>距离业务层相对较近(例如，可以统计进程的读写量)<br>但是也没有办法跟业务层的 read, write 联系在一起，同时颗粒度较粗，没有办法告诉你，当前进程读写了哪些文件？耗时？大小？<br><i><strong>3) 业务级 IO 监控</strong></i>    ioprofile<br>ioprofile 命令本质上是 lsof + strace ioprofile 可以回答你以下三个问题:<br>当前进程某时间内,在业务层面读写了哪些文件(read, write)？<br>读写次数是多少？(read, write 的调用次数)<br>读写数据量多少？(read, write 的 byte 数)<br>注: ioprofile 仅支持多线程程序,对单线程程序不支持. 对于单线程程序的 IO 业务级分析，strace 足以。<br>总结： ioprofile 本质上是 strace，因此可以看到 read，write 的调用轨迹，可以做业务层的 IO 分析(mmap 方式无能为力)<br><i><strong>4) 文件级 IO 监控</strong></i><br>文件级 IO 监控可以配合&#x2F;补充”业务级和进程级” IO 分析<br>文件级 IO 分析，主要针对单个文件，回答当前哪些进程正在对某个文件进行读写操作<br>lsof 或者 ls &#x2F;proc&#x2F;pid&#x2F;fd<br>inodewatch.stp<br>lsof 告诉你当前文件由哪些进程打开</p>
</blockquote>
<ol start="9">
<li></li>
</ol>
<p>jdk11比10包含哪些特性？<br><a target="_blank" rel="noopener" href="https://www.oschina.net/news/97145/jdk-11-jep-332?from=20180617">https://www.oschina.net/news/97145/jdk-11-jep-332?from=20180617</a><br>列出了相关JEP，可以点击原文查看，原文含详细链接</p>
<blockquote><p>JDK 11 已确定了 15 个 JEP，下面是完整的列表：<br>181: 基于嵌套的访问控制(Nest-Based Access Control)<br>309: 动态类文件常量(Dynamic Class-File Constants)<br>315: 改进 Aarch64 Intrinsics(Improve Aarch64 Intrinsics)<br>318: Epsilon — 一个无操作的垃圾收集器(Epsilon: A No-Op Garbage Collector)<br>320: 删除 Java EE 和 CORBA 模块(Remove the Java EE and CORBA Modules)<br>321: HTTP Client (Standard)<br>323: 用于 Lambda 参数的局部变量语法(Local-Variable Syntax for Lambda Parameters)<br>324: Curve25519 和 Curve448 算法的密钥协议(Key Agreement with Curve25519 and Curve448)<br>327: Unicode 10<br>328: Flight Recorder<br>329: ChaCha20 和 Poly1305 加密算法(ChaCha20 and Poly1305 Cryptographic Algorithms)<br>330: 启动单一文件的源代码程序(Launch Single-File Source-Code Programs)<br>331: Low-Overhead Heap Profiling<br>333: 处于试验阶段的可伸缩低延迟垃圾收集器 ZGC: A Scalable Low-Latency Garbage Collector (Experimental)<br>336: 弃用 Pack200 工具和 API(Deprecate the Pack200 Tools and API)</p>
</blockquote>
<ol start="10">
<li></li>
</ol>
<p>Kafka 源码解析之 Consumer 如何加入一个 Group（六）<br><a target="_blank" rel="noopener" href="http://matt33.com/2017/10/22/consumer-join-group/">http://matt33.com/2017/10/22/consumer-join-group/</a><br>推荐看作者总结的 Kafka 源码解析 系列<br>11.<br>数据库事务隔离标准分析<br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/38214642">https://zhuanlan.zhihu.com/p/38214642</a><br>一直记不住的数据库隔离级别：</p>
<blockquote><p>本文首先介绍了ANSI基于“异象”的隔离级别标准，并分析了其狭义和广义的描述；然后介绍了基于锁的隔离级别标准，与ANSI隔离级别进行了比较；最后分析快照隔离级别，在ANSI隔离级别标准基础上，提出了两种新的“异象”，得出快照隔离在几种标准隔离级别特性中的位置。<br>ANSI SQL-92标准(<a target="_blank" rel="noopener" href="http://www.contrib.andrew.cmu.edu/~shadow/sql/sql1992.txt)%E5%B0%86%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B9%B6%E5%8F%91%E4%BA%8B%E5%8A%A1%E9%97%B4%E7%9A%84%E9%9A%94%E7%A6%BB%E6%80%A7%E8%A1%8C%E4%B8%BA%E5%88%92%E5%88%86%E4%B8%BA3%E7%A7%8D%22%E5%BC%82%E8%B1%A1(phenomena)%22%EF%BC%8C%E4%BB%8E%E4%BD%8E%E5%88%B0%E9%AB%98%E7%9A%84%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%AE%9A%E4%B9%89%E4%BE%9D%E6%AC%A1%E4%B8%BA%EF%BC%9A">http://www.contrib.andrew.cmu.edu/~shadow/sql/sql1992.txt)将数据库并发事务间的隔离性行为划分为3种&quot;异象(phenomena)&quot;，从低到高的自然语言定义依次为：</a><br><i><strong>P1 脏读 (“Dirty read”)</strong></i>: SQL-transaction T1 modifies a row. SQL- transaction T2 then reads that row before T1 performs a COMMIT. If T1 then performs a ROLLBACK, T2 will have read a row that was never committed and that may thus be considered to have never existed.<br><i><strong>P2 不可重复读 (“Non-repeatable read”)</strong></i>: SQL-transaction T1 reads a row. SQL- transaction T2 then modifies or deletes that row and performs a COMMIT. If T1 then attempts to reread the row, it may receive the modified value or discover that the row has been deleted.<br><i><strong>P3 幻读 (“Phantom”)</strong></i>: SQL-transaction T1 reads the set of rows N that satisfy some <search condition>. SQL-transaction T2 then executes SQL-statements that generate one or more rows that satisfy the <search condition> used by SQL-transaction T1. If SQL-transaction T1 then repeats the initial read with the same <search condition>, it obtains a different collection of rows.<br><i><strong>P1&#x2F;P2&#x2F;P3的形式化描述</strong></i><br>根据标准文档的定义，可以将这三种异象使用形式化语言描述如下，称为A1&#x2F;A2&#x2F;A3（其中w1[x]表示事务1写入记录x，r1表示事务1读取记录x，c1表示事务1提交，a1表示事务1回滚，r1[P]表示事务1按照谓词P的条件读取若干条记录，w1[y in P]表示事务1写入记录y满足谓词P的条件）：</p>
<p>A1 脏读：w1[x] … r2[x] … (a1 and c2 in any order)<br>A2 不可重复读：r1[x] … w2[x] … c2 … r1[x] … c1<br>A3 幻读：r1[P] … w2[y in P] … c2 … r1[P] … c1<br>上述A1&#x2F;A2&#x2F;A3形式化描述，根据标准定义的P1&#x2F;P2&#x2F;P3异象的自然语言描述转化而来，但是ANSI标准定义的异象只针对了单个记录或谓词描述，对于多条记录需满足业务一致性的场景并未能覆盖（比如两个账户间转账要求余额总和不变），举例如下：<br>H1：r1[x&#x3D;50]w1[x&#x3D;10] r2[x&#x3D;10]r2[y&#x3D;50] c2 r1[y&#x3D;50]w1[y&#x3D;90] c1<br>事务1执行账户x向账户y转账40，事务2读取到了进行到了一半的事务1（Read Uncommitted），破坏了余额总和的一致性<br>因为事务1并未回滚，H1的行为并不符合A1的形式化定义<br>H2：r1[x&#x3D;50] r2[x&#x3D;50]w2[x&#x3D;10]r2[y&#x3D;50]w2[y&#x3D;90] c2 r1[y&#x3D;90] c1<br>事务2执行账户x向账户y转账40，事务1在事务2提交前后读取到了破坏余额总和一致性的数据（Unrepeatable Read）<br>因为事务1并未重复读取记录x，H2的行为并不符合A2的形式化定义<br>H3：r1[P] w2[insert y to P] r2[z] w2[z] c2 r1[z] c1<br>事务2增加新雇员并更新雇员总数z，事务1在事务2提交前后读取到了破坏雇员列表与雇员总数的一致性的数据（Phantom）<br>因为事务1并未重复读取谓词P指定的数据集合，H3的行为并不符合A3的形式化定义.<br>因为要增强对上述H1&#x2F;H2&#x2F;H3异象的约束，论文将A1&#x2F;A2&#x2F;A3的形式化描述称为“狭义的描述(strict interpretations)”，然后增加了“广义的描述(broad interpretation)”，去除了strict interpretations中对事务提交、回滚和数据读取范围的约束，只保留事务之间读写的时序关系，即事务之间只要包含如下时序的操作，即可能产生包含H1&#x2F;H2&#x2F;H3在内的异象，如下：<br>P1 脏读：w1[x] … r2[x] … ((c1 or a1) and (c2 or a2) in any order)<br>P2 不可重复读：r1[x] … w2[x] … ((c1 or a1) and (c2 or a2) in any order)<br>P3 幻读：r1[P] … w2[y in P] … ((c1 or a1) and (c2 or a2) in any order)<br>在上述形式化描述下，禁止P1即可禁止H1，禁止P1&#x2F;P2即可禁止H2，禁止P1&#x2F;P2&#x2F;P3即可禁止H3。至此，ANSI标准隔离级别定义的三种异象，可以被扩展为适用范围更广的的P1&#x2F;P2&#x2F;P3的形式化定义，这种隔离级别定义被论文称之为“phenomena-based”，即基于“异象”的隔离级别定义。</p>
</blockquote>
<p>可以惨考这篇文章，实例分析，加深印象<br>《A Critique of ANSI SQL Isolation Levels》论文实验<br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/38334464">https://zhuanlan.zhihu.com/p/38334464</a><br>12.<br>国内Elasticsearch早期布道者 Medcl 的新书计划：Elastic 搜索开发实战<br><a target="_blank" rel="noopener" href="https://elastic-search-in-action.medcl.com/0.1_abstract.html">https://elastic-search-in-action.medcl.com/0.1_abstract.html</a><br>13.<br>很不错的功能: Kafka 1.1新功能：数据的路径间迁移<br><a target="_blank" rel="noopener" href="http://www.cnblogs.com/huxi2b/p/9214592.html">http://www.cnblogs.com/huxi2b/p/9214592.html</a><br>14.<br>JDK 11中将会加入令人惊叹的ZGC(不到2毫秒)<br><a target="_blank" rel="noopener" href="http://openjdk.java.net/jeps/333">http://openjdk.java.net/jeps/333</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/38348775?group_id=993277353635659776">https://zhuanlan.zhihu.com/p/38348775?group_id=993277353635659776</a><br>15.<br><a target="_blank" rel="noopener" href="http://vmlens.com/articles/3_tips_volatile_fields/">http://vmlens.com/articles/3_tips_volatile_fields/</a><br>艺海拾贝：3 Tips for volatile fields in java</p>
<blockquote><p>Volatile fields are one of built-in mechanism to write multi-threaded java.<br>Volatile variables are not cached in registers or in caches where they are hidden from other processors, so a read of a volatile variable always returns the most recent write by any thread. … The visibility effects of volatile variables extend beyond the value of the volatile variable itself. When thread A writes to a volatile variable and subsequently thread B reads that same variable, the values of all variables that were visible to A prior to writing to the variable become visible to B after reading the volatile variable.<br>— Java Concurrency in Practice - Brian Goetz, et al.</p>
<ol>
<li>Use volatile fields when writes do not depend on its current value.</li>
<li>Use volatile fields for reading and locks for writing</li>
<li>Use with JDK 9 VarHandle for atomic operations.</li>
</ol>
</blockquote>
<ol start="16">
<li></li>
</ol>
<p>来点轻松的：<br>计算机领域有哪些经典的典故或笑话？<br><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/20034686">https://www.zhihu.com/question/20034686</a><br>看到一个有趣的链接：<br>RegEx match open tags except XHTML self-contained tags<br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags">https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags</a><br>第一个高赞答案分析了一堆理由，然后作者大概是 苦正则表达式匹配 html久已，还故意留了一段 血腥字体 的示例<br>可怜的 stackoverflow 编辑 或许是苦于“Please do not flag it for our attention”特意加了一段 网页显示没问题，原文就是这样 的声明。<br>开头还加了一段 lock 讨论的声明，太多讨论无关主题<br><i><strong>向 stackoverflow 对技术对社区质量负责任的态度致敬。</strong></i></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://thomaslau.github.io/2018/07/05/2018-07-05-many_links_0705/" data-id="cm7c6vn37001ouexadcve05jj" data-title="Many Links 0705" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tech/" rel="tag">Tech</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/weeklyreading/" rel="tag">weeklyreading</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/07/06/2018-07-06-a-ridiculous-Ex-of-Hikari/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Spring + Hikari的一个SQLFeatureNotSupportedException问题
        
      </div>
    </a>
  
  
    <a href="/2018/06/19/2018-06-19-many_links_0619/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Many Links 0619</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/17monipdb/" rel="tag">17monipdb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/B-Tree/" rel="tag">B Tree</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BigData/" rel="tag">BigData</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BlogDigests/" rel="tag">BlogDigests</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CAS-SSO/" rel="tag">CAS SSO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/" rel="tag">Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Consistent-Hashing/" rel="tag">Consistent Hashing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Eclipse/" rel="tag">Eclipse</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch/" rel="tag">Elasticsearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HashTable/" rel="tag">HashTable</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hyperloglog/" rel="tag">Hyperloglog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JAVA-Flame-Graph/" rel="tag">JAVA Flame Graph</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JIT/" rel="tag">JIT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JMH/" rel="tag">JMH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JPG-DCT/" rel="tag">JPG&#x2F;DCT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS/" rel="tag">JS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/" rel="tag">JVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Leaky/" rel="tag">Leaky</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Life/" rel="tag">Life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lucene/" rel="tag">Lucene</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ML/" rel="tag">ML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maven/" rel="tag">Maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Minhash/" rel="tag">Minhash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Monte-Carlo/" rel="tag">Monte Carlo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/" rel="tag">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Object-hashCode/" rel="tag">Object.hashCode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RedisCluster/" rel="tag">RedisCluster</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RedisLua/" rel="tag">RedisLua</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Security/" rel="tag">Security</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SimHash/" rel="tag">SimHash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spark/" rel="tag">Spark</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringCloud/" rel="tag">SpringCloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringSecurity/" rel="tag">SpringSecurity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tech/" rel="tag">Tech</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TextSimilarity/" rel="tag">TextSimilarity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Thoughts/" rel="tag">Thoughts</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tools/" rel="tag">Tools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/antirez/" rel="tag">antirez</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/architecture/" rel="tag">architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bloomfilter/" rel="tag">bloomfilter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/elasticsearch/" rel="tag">elasticsearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/geohash/" rel="tag">geohash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/guava/" rel="tag">guava</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/guava-ratelimiter/" rel="tag">guava ratelimiter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hash/" rel="tag">hash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/" rel="tag">kafka</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/" rel="tag">life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pHash-dHash/" rel="tag">pHash&#x2F;dHash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/performance/" rel="tag">performance</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ratelimiter/" rel="tag">ratelimiter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/" rel="tag">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/roaringbitmap/" rel="tag">roaringbitmap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql-count/" rel="tag">sql.count</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/twitter/" rel="tag">twitter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unix-Epoch/" rel="tag">unix Epoch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/weeklyreading/" rel="tag">weeklyreading</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/yearly/" rel="tag">yearly</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AD%E5%8F%B0/" rel="tag">中台</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A2%8E%E8%A8%80%E7%A2%8E%E8%AF%AD/" rel="tag">碎言碎语</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%97%B0%E7%A7%92/" rel="tag">闰秒</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%8F%E6%84%9F/" rel="tag">随感</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/17monipdb/" style="font-size: 10px;">17monipdb</a> <a href="/tags/B-Tree/" style="font-size: 10px;">B Tree</a> <a href="/tags/BigData/" style="font-size: 10px;">BigData</a> <a href="/tags/BlogDigests/" style="font-size: 10px;">BlogDigests</a> <a href="/tags/CAS-SSO/" style="font-size: 10px;">CAS SSO</a> <a href="/tags/Chrome/" style="font-size: 10px;">Chrome</a> <a href="/tags/Consistent-Hashing/" style="font-size: 10px;">Consistent Hashing</a> <a href="/tags/Eclipse/" style="font-size: 10px;">Eclipse</a> <a href="/tags/Elasticsearch/" style="font-size: 14px;">Elasticsearch</a> <a href="/tags/HashTable/" style="font-size: 10px;">HashTable</a> <a href="/tags/Hyperloglog/" style="font-size: 10px;">Hyperloglog</a> <a href="/tags/JAVA-Flame-Graph/" style="font-size: 10px;">JAVA Flame Graph</a> <a href="/tags/JIT/" style="font-size: 10px;">JIT</a> <a href="/tags/JMH/" style="font-size: 10px;">JMH</a> <a href="/tags/JPG-DCT/" style="font-size: 10px;">JPG/DCT</a> <a href="/tags/JS/" style="font-size: 10px;">JS</a> <a href="/tags/JVM/" style="font-size: 12px;">JVM</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Leaky/" style="font-size: 10px;">Leaky</a> <a href="/tags/Life/" style="font-size: 16px;">Life</a> <a href="/tags/Lucene/" style="font-size: 12px;">Lucene</a> <a href="/tags/ML/" style="font-size: 12px;">ML</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/Minhash/" style="font-size: 10px;">Minhash</a> <a href="/tags/Monte-Carlo/" style="font-size: 10px;">Monte Carlo</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/Nginx/" style="font-size: 12px;">Nginx</a> <a href="/tags/Object-hashCode/" style="font-size: 10px;">Object.hashCode</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/Redis/" style="font-size: 12px;">Redis</a> <a href="/tags/RedisCluster/" style="font-size: 10px;">RedisCluster</a> <a href="/tags/RedisLua/" style="font-size: 10px;">RedisLua</a> <a href="/tags/Security/" style="font-size: 12px;">Security</a> <a href="/tags/SimHash/" style="font-size: 10px;">SimHash</a> <a href="/tags/Spark/" style="font-size: 10px;">Spark</a> <a href="/tags/SpringCloud/" style="font-size: 10px;">SpringCloud</a> <a href="/tags/SpringSecurity/" style="font-size: 10px;">SpringSecurity</a> <a href="/tags/Tech/" style="font-size: 20px;">Tech</a> <a href="/tags/TextSimilarity/" style="font-size: 10px;">TextSimilarity</a> <a href="/tags/Thoughts/" style="font-size: 10px;">Thoughts</a> <a href="/tags/Tools/" style="font-size: 14px;">Tools</a> <a href="/tags/antirez/" style="font-size: 12px;">antirez</a> <a href="/tags/architecture/" style="font-size: 12px;">architecture</a> <a href="/tags/bloomfilter/" style="font-size: 10px;">bloomfilter</a> <a href="/tags/elasticsearch/" style="font-size: 12px;">elasticsearch</a> <a href="/tags/geohash/" style="font-size: 10px;">geohash</a> <a href="/tags/guava/" style="font-size: 10px;">guava</a> <a href="/tags/guava-ratelimiter/" style="font-size: 10px;">guava ratelimiter</a> <a href="/tags/hash/" style="font-size: 10px;">hash</a> <a href="/tags/kafka/" style="font-size: 12px;">kafka</a> <a href="/tags/life/" style="font-size: 12px;">life</a> <a href="/tags/pHash-dHash/" style="font-size: 10px;">pHash/dHash</a> <a href="/tags/performance/" style="font-size: 10px;">performance</a> <a href="/tags/ratelimiter/" style="font-size: 12px;">ratelimiter</a> <a href="/tags/redis/" style="font-size: 10px;">redis</a> <a href="/tags/roaringbitmap/" style="font-size: 10px;">roaringbitmap</a> <a href="/tags/sql-count/" style="font-size: 10px;">sql.count</a> <a href="/tags/twitter/" style="font-size: 10px;">twitter</a> <a href="/tags/unix-Epoch/" style="font-size: 10px;">unix Epoch</a> <a href="/tags/weeklyreading/" style="font-size: 18px;">weeklyreading</a> <a href="/tags/yearly/" style="font-size: 10px;">yearly</a> <a href="/tags/%E4%B8%AD%E5%8F%B0/" style="font-size: 10px;">中台</a> <a href="/tags/%E7%A2%8E%E8%A8%80%E7%A2%8E%E8%AF%AD/" style="font-size: 10px;">碎言碎语</a> <a href="/tags/%E9%97%B0%E7%A7%92/" style="font-size: 10px;">闰秒</a> <a href="/tags/%E9%9A%8F%E6%84%9F/" style="font-size: 12px;">随感</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/02/">February 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">January 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/02/14/2025-02-14-on_computor_time/">计算机时间捡拾</a>
          </li>
        
          <li>
            <a href="/2025/01/02/2025-01-02-on_text_similarity/">如何做好网文段落匹配</a>
          </li>
        
          <li>
            <a href="/2020/11/10/2020-11-10-on_chain_of_trust/">软件研发中的信任链问题</a>
          </li>
        
          <li>
            <a href="/2020/10/23/2020-10-23-on_middle_platform/">什么是中台</a>
          </li>
        
          <li>
            <a href="/2020/09/21/2020-09-21-on_consistent_hash/">正确理解一致性哈希</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 Thomas Lau<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>